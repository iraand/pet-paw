"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[505],{3439:function(e,t,n){n(2791);t.Z=n.p+"static/media/icons.f12380dd9d519a5ef343df67d3048d30.svg"},3671:function(e,t,n){n.d(t,{X:function(){return c}});n(2791);var s=n(6871),a=n(3439),i=n(184);function c(e){var t=(0,s.s0)();return(0,i.jsx)("button",{type:"button","aria-label":"Back",className:"button button-back",onClick:function(){return t(e.navigate)},children:(0,i.jsx)("svg",{className:"arrow arrow-back",viewBox:"0 0 12 20",children:(0,i.jsx)("use",{width:"12",height:"20",href:"".concat(a.Z,"#arrow-left-big")})})})}},1609:function(e,t,n){n.d(t,{h:function(){return d}});var s=n(4165),a=n(5861),i=n(885),c=n(2791),r=n(4569),o=n.n(r),u=n(1970),l=(n(6602),n(3439)),h=n(184),d=function(){var e=(0,c.useState)(""),t=(0,i.Z)(e,2),n=t[0],r=t[1],d=(0,c.useState)([]),f=(0,i.Z)(d,2),p=f[0],m=f[1],v=(0,c.useState)([]),x=(0,i.Z)(v,2),g=x[0],j=(x[1],function(e){r(e)});return(0,c.useEffect)((function(){function e(){return(e=(0,a.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o().defaults.headers.common["x-api-key"]="531a21b2-f437-4298-809c-b7c57253fac4",e.next=3,o().get("https://api.thecatapi.com/v1/breeds/search?q=".concat(n));case 3:t=e.sent,m(t.data.map((function(e){return{value:e.id,label:e.name}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n&&n.length>1&&function(){e.apply(this,arguments)}()}),[n]),(0,h.jsxs)("div",{className:"header",children:[(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[(0,h.jsx)(u.Z,{cacheOptions:!0,loadOptions:function(){return new Promise((function(e){return setTimeout((function(){e(p)}),1e3)}))},defaultOptions:!0,onInputChange:j,placeholder:"Search for breeds by name",onChange:j,classNamePrefix:"react-select",className:"search-breeds"}),(0,h.jsx)("button",{className:"search-button",children:(0,h.jsx)("svg",{className:"search-icon",viewBox:"0 0 20 20",children:(0,h.jsx)("use",{width:"20",height:"20",href:"".concat(l.Z,"#find")})})})]}),(0,h.jsxs)("div",{className:"smiles",children:[(0,h.jsx)("button",{className:"smile-button",children:(0,h.jsx)("svg",{className:"smile-like",viewBox:"0 0 30 30",children:(0,h.jsx)("use",{width:"30",height:"30",href:"".concat(l.Z,"#smile-like")})})}),(0,h.jsx)("button",{className:"smile-button",children:(0,h.jsx)("svg",{className:"smile-love",viewBox:"0 0 30 26",children:(0,h.jsx)("use",{width:"30",height:"26",href:"".concat(l.Z,"#smile-love")})})}),(0,h.jsx)("button",{className:"smile-button",children:(0,h.jsx)("svg",{className:"smile-dislike",viewBox:"0 0 30 30",children:(0,h.jsx)("use",{width:"30",height:"30",href:"".concat(l.Z,"#smile-dislike")})})})]}),g.map((function(e,t){return(0,h.jsx)("img",{src:e.url,alt:e.name},t)}))]})}},1505:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s=n(2982),a=n(4165),i=n(5861),c=n(885),r=n(2791),o=n(4569),u=n.n(o),l=n(2299),h=n.n(l),d=n(9501),f=n(1609),p=n(3439),m=n(3671),v=n(184);function x(){var e="053221978";document.title="PetsPaw - Voting";var t=(0,r.useState)(null),n=(0,c.Z)(t,2),o=n[0],l=n[1],x=(0,r.useState)(!0),g=(0,c.Z)(x,2),j=g[0],b=g[1],w=(0,r.useState)([]),Z=(0,c.Z)(w,2),k=Z[0],N=Z[1],_=!1,y=[(0,v.jsx)("svg",{className:"vote-icon vote-icon-like",viewBox:"0 0 20 20",children:(0,v.jsx)("use",{width:"20",height:"20",href:"".concat(p.Z,"#smile-like")})}),(0,v.jsx)("svg",{className:"vote-icon vote-icon-love",viewBox:"0 0 20 20",children:(0,v.jsx)("use",{width:"20",height:"20",href:"".concat(p.Z,"#smile-love")})}),(0,v.jsx)("svg",{className:"vote-icon vote-icon-dislike",viewBox:"0 0 20 20",children:(0,v.jsx)("use",{width:"20",height:"20",href:"".concat(p.Z,"#smile-dislike")})})];function B(e){return S.apply(this,arguments)}function S(){return(S=(0,i.Z)((0,a.Z)().mark((function t(n){var s,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b(!0),null,"favourites"!==n){t.next=10;break}return s={image_id:o.id,sub_id:e},t.next=6,u().post("https://api.thecatapi.com/v1/favourites",s);case 6:t.sent,E(),t.next=15;break;case 10:return i={image_id:o.id,sub_id:e,value:n},t.next=13,u().post("https://api.thecatapi.com/v1/votes",i);case 13:t.sent,C();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u().defaults.headers.common["x-api-key"]="531a21b2-f437-4298-809c-b7c57253fac4",e.next=3,u().get("https://api.thecatapi.com/v1/votes",{params:{order:"DESC",limit:1}});case 3:(t=e.sent).data.forEach((function(e){e.created_at=new Date(e.created_at).toJSON().slice(11,16)})),N((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(t.data))}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={limit:1,order:"DESC",page:1},u().defaults.headers.common["x-api-key"]="531a21b2-f437-4298-809c-b7c57253fac4",e.next=4,u().get("https://api.thecatapi.com/v1/favourites",{params:t});case 4:(n=e.sent).data.forEach((function(e){e.created_at=new Date(e.created_at).toJSON().slice(11,16)})),N((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(n.data))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useEffect)((function(){function e(){return(e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={limit:1,page:1,order:"Rand",uri:"images/search"},e.next=3,(0,d.Z)(t);case 3:n=e.sent,l(n.response_data[0]),b(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return _||function(){e.apply(this,arguments)}(),function(){_=!0}}),[k]),(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"content",children:[(0,v.jsx)(f.h,{}),(0,v.jsxs)("div",{className:"breeds__container",children:[(0,v.jsxs)("div",{className:"breeds__select-section",children:[(0,v.jsx)(m.X,{navigate:"/breeds/"}),(0,v.jsx)("h1",{className:"title-page",children:"VOTING"})]}),function(){if(o)return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"image_container",children:(0,v.jsx)("img",{src:o.url,alt:o.id,className:"image"})}),(0,v.jsxs)("div",{className:"icons-container",children:[(0,v.jsx)("button",{className:"voting-button",onClick:function(){B(1)},children:(0,v.jsx)("svg",{className:"smile-like",viewBox:"0 0 30 30",children:(0,v.jsx)("use",{width:"30",height:"30",href:"".concat(p.Z,"#smile-like")})})}),(0,v.jsx)("button",{className:"voting-button",onClick:function(){B("favourites")},children:(0,v.jsx)("svg",{className:"smile-love",viewBox:"0 0 30 26",children:(0,v.jsx)("use",{width:"30",height:"26",href:"".concat(p.Z,"#smile-love")})})}),(0,v.jsx)("button",{className:"voting-button",onClick:function(){B(0)},children:(0,v.jsx)("svg",{className:"smile-dislike",viewBox:"0 0 30 30",children:(0,v.jsx)("use",{width:"30",height:"30",href:"".concat(p.Z,"#smile-dislike")})})})]}),k&&(0,v.jsx)("div",{children:k.reverse().map((function(e){return(0,v.jsxs)("div",{className:"vote-conteiner",children:[(0,v.jsx)("p",{className:"vote_time",children:e.created_at}),(0,v.jsxs)("p",{children:["Image ID: ",(0,v.jsx)("span",{className:"vote_id",children:e.image_id})," was added to",1===e.value?" Like":0===e.value?" Dislike":" Favourites"]}),1===e.value?y[0]:0===e.value?y[2]:y[1]]})}))})]})}(),j&&(0,v.jsx)(h(),{speedMultiplier:1,color:"#FF868E",size:150,className:"loader loader-voqating"})]})]})})}},6602:function(e,t,n){n.d(t,{t:function(){return r}});var s=n(4165),a=n(5861),i=n(4569),c=n.n(i);function r(e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,s.Z)().mark((function e(t){var n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={image_id:t,sub_id:"User-123"},e.next=4,c().post("https://api.thecatapi.com/v1/favourites",n);case 4:return a=e.sent,console.log(a),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},9501:function(e,t,n){var s=n(4165),a=n(5861),i=n(4569),c=n.n(i);function r(){return(r=(0,a.Z)((0,s.Z)().mark((function e(t){var n,a,i,r,o,u,l,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,a=t.order,i=t.page,r=t.type,o=t.uri,e.prev=1,u={limit:n,page:i-1,order:a,mime_types:r},c().defaults.headers.common["x-api-key"]="531a21b2-f437-4298-809c-b7c57253fac4",e.next=6,c().get("https://api.thecatapi.com/v1/".concat(o),{params:u});case 6:return l=e.sent,h=l.headers["pagination-count"],e.abrupt("return",{response_data:l.data,pagination_count:h});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}t.Z=function(e){return r.apply(this,arguments)}}}]);
//# sourceMappingURL=505.123e7f40.chunk.js.map